---
import type { TagSize, TagType } from "./interface";

export interface Props {
  tag: string;
  type?: TagType;
  size?: TagSize;
  showIcon?: boolean;
  showHash?: boolean;
  href?: string;
}

const {
  tag,
  type = "default",
  size = "sm",
  showIcon = false,
  showHash = false,
  href,
} = Astro.props;

const tagTypeClasses = {
  default: "bg-gray-100 text-gray-600 hover:bg-gray-200",
  primary: "bg-primary-50 text-primary-700 hover:bg-primary-100",
  accent: "bg-accent-50 text-accent-700 hover:bg-accent-100",
};

const sizeClasses = {
  sm: "px-2 py-1 text-xs",
  md: "px-3 py-1 text-sm",
  lg: "px-4 py-2 text-base",
};

const iconSize = {
  sm: "text-xs",
  md: "text-sm",
  lg: "text-base",
};

const baseClasses =
  "inline-flex items-center gap-1 rounded-full font-medium transition-colors duration-200";
const classes = `${baseClasses} ${tagTypeClasses[type]} ${sizeClasses[size]}`;
---

{
  href ? (
    <a href={href} class={`${classes} hover:no-underline`}>
      {showIcon && <span class={`i-tabler-tag ${iconSize[size]}`}></span>}
      {showHash && "#"}{tag}
    </a>
  ) : (
    <span class={classes}>
      {showIcon && <span class={`i-tabler-tag ${iconSize[size]}`}></span>}
      {showHash && "#"}{tag}
    </span>
  )
}
