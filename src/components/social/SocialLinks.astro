---
import type { SocialLink } from "./interface";

export interface Props {
  links: SocialLink[];
  size?: "sm" | "md" | "lg";
  showLabels?: boolean;
  className?: string;
}

const {
  links = [],
  size = "md",
  showLabels = false,
  className = "",
} = Astro.props;

const sizeClasses = {
  sm: "text-lg",
  md: "text-2xl",
  lg: "text-3xl",
};

const baseItemClasses =
  "text-gray-600 hover:text-gray-900 transition-colors duration-300";
const itemClasses = showLabels
  ? `${baseItemClasses} flex items-center gap-2`
  : baseItemClasses;
---

{
  links.length > 0 && (
    <div
      class={`flex flex-wrap justify-center ${showLabels ? "gap-6" : "gap-4"} ${className}`}
    >
      {links.map((link) => (
        <a
          key={link.url}
          href={link.url}
          target="_blank"
          rel="noopener noreferrer"
          class={`${itemClasses} ${sizeClasses[size]}`}
          title={link.platform}
          aria-label={`Visit ${link.platform}`}
        >
          <span class={link.icon} />
          {showLabels && (
            <span class="text-sm font-medium">{link.platform}</span>
          )}
        </a>
      ))}
    </div>
  )
}
